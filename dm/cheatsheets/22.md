---

## **Association Pattern Mining**

### **Applications**

Association mining is useful in many areas:

- **Supermarket data**: Find which items are often bought together (e.g., eggs and milk).
- **Marketing**: Place items close together or promote combos (e.g., offer yogurt to people who buy eggs + milk).
- **Text mining**: Spot terms that appear together often.
- **Web log analysis**, **software bug detection**, **spatio-temporal event detection**, etc.

---

### **Terminology**

- **Transaction**: A single data record (like a shopping basket).
- **Itemset**: A set of items (e.g., {milk, bread}).
- **Frequent itemset**: An itemset that appears often in the data.
- **Support**: How common an itemset is‚Äîmeasured as a fraction of transactions that include it.

---

### **Frequent Pattern Mining Model**

Let:

- **U** be the set of all items.
- **ùíü** be the dataset = a list of transactions = {T‚ÇÅ, ..., T‚Çô}.
- Each **T·µ¢** is a subset of items from **U**.
- Each transaction can be shown as a binary vector: 1 = item is present, 0 = item is absent.
- **Support of itemset I**, written `sup(I)`, is the fraction of transactions that include I.

**Problem**:
Given a dataset ùíü and a minimum support threshold `f`, find all itemsets whose support ‚â• `f`.

**Notes**:

- Lower `f` ‚Üí more frequent itemsets (but more computation).
- Higher `f` ‚Üí fewer frequent itemsets (may miss useful ones).

---

### **Example**

Dataset:

| Transaction | Milk | Butter | Bread | Mushrooms | Onion | Carrot |
| ----------- | ---- | ------ | ----- | --------- | ----- | ------ |
| 1234        | 1    | 1      | 1     | 0         | 1     | 0      |
| 324         | 0    | 0      | 0     | 1         | 1     | 1      |
| 234         | 1    | 1      | 1     | 0         | 1     | 0      |
| 2125        | 1    | 1      | 1     | 1         | 0     | 1      |
| 113         | 1    | 0      | 0     | 1         | 1     | 0      |
| 5653        | 1    | 1      | 1     | 1         | 1     | 0      |

Let `f = 0.65` (i.e., itemsets must appear in ‚â• 65% of the 6 transactions = 4 or more times).

- **{Mushrooms, Onion, Carrot}**: Not frequent (appears in fewer than 4).
- **{Milk, Butter, Bread}**: Frequent (appears ‚â• 4 times) ‚Üí large itemset.

---

### **Monotonicity and Downward Closure**

- If an itemset **I** is frequent, all its subsets are also frequent.
- If a subset is not frequent, its supersets can‚Äôt be frequent either.
- A **maximal frequent itemset** is a frequent itemset that has no frequent supersets.

**Example**:

- `{Butter, Bread}` is frequent.
- `{Milk, Butter, Bread}` is **maximal** at `f = 0.65`.

---

### **Frequent vs Maximal Itemsets**

From the same example:

- **Maximal frequent itemsets**:

  - `{Milk, Butter, Bread}`
  - `{Milk, Onion}`
  - `{Mushrooms}`

- **All frequent itemsets** (10 total):

  - Single items: `{Milk}`, `{Butter}`, `{Bread}`, `{Onion}`, `{Mushrooms}`
  - Pairs: `{Milk, Butter}`, `{Milk, Bread}`, `{Butter, Bread}`, `{Milk, Onion}`
  - One triple: `{Milk, Butter, Bread}`

**Note**:
Maximal frequent itemsets are a compact summary‚Äîbut they don‚Äôt tell us the support of all subsets.

---

### **Association Rules**

We form rules like:

**X ‚áí Y**
Means: If a transaction contains **X**, it's likely to contain **Y**.

**Confidence** measures the probability of **Y** occurring given **X**.

Formula:

$$
\text{conf}(X ‚áí Y) = \frac{\text{sup}(X ‚à™ Y)}{\text{sup}(X)}
$$

Where:

- `sup(X ‚à™ Y)`: Support of both X and Y together.
- `sup(X)`: Support of just X.

**Example**:

- **conf({Milk} ‚áí {Butter, Bread})**

  - sup({Milk}) = 5/6
  - sup({Milk, Butter, Bread}) = 2/3
  - So conf = (2/3) √∑ (5/6) = 4/5

---

### **Defining Valid Rules**

A rule **X ‚áí Y** is valid if:

1. Support of `X ‚à™ Y` ‚â• frequency threshold `f`
2. Confidence of the rule ‚â• confidence threshold `c`

---

### **Association Rule Generation Framework**

**Two Phases**:

**Phase 1**: Find all frequent itemsets (‚â• support `f`)

- Use algorithms like:

  - **Bruteforce**
  - **Apriori** (uses downward closure to reduce computation)

**Phase 2**: Generate association rules (‚â• confidence `c`)

- For each frequent itemset **I**, split it into all **(X, Y)** pairs where:

  - **X ‚à™ Y = I**
  - **X** and **Y** are disjoint

- Compute confidence of each rule **X ‚áí Y**

  - Keep only those with conf ‚â• `c`

---

### **Optimizing Phase 2**

**Confidence Monotonicity**:
If **X‚ÇÅ ‚äÇ X‚ÇÇ**, then:

$$
\text{conf}(X‚ÇÇ ‚áí I ‚àí X‚ÇÇ) ‚â• \text{conf}(X‚ÇÅ ‚áí I ‚àí X‚ÇÅ)
$$

**Example**:

- `{Butter} ‚áí {Milk, Bread}`
- `{Butter, Bread} ‚áí {Milk}`
  ‚Üí The second rule has higher or equal confidence, so the first may be skipped as redundant.

---
